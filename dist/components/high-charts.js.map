{"version":3,"file":"high-charts.js","sources":["../../src/components/high-charts.hbs","../../src/components/high-charts.ts"],"sourcesContent":["import { precompileTemplate } from \"@ember/template-compilation\";\nexport default precompileTemplate(\"<div\\n  class=\\\"highcharts-wrapper\\\"\\n  {{did-insert this.onDidInsert}}\\n  {{did-update this.onDidUpdate this.content this.chartOptions this.mode}}\\n  ...attributes\\n>\\n  <div class=\\\"chart-container\\\"></div>\\n  {{yield this.chart}}\\n</div>\")","import Component from '@glimmer/component';\n\nimport { tracked } from '@glimmer/tracking';\nimport { action } from '@ember/object';\n\nimport { getOwner } from '@ember/application';\nimport type Owner from '@ember/owner';\nimport { scheduleOnce } from '@ember/runloop';\nimport { waitForPromise } from '@ember/test-waiters';\n\nimport type { default as _Highcharts } from 'highcharts';\n\nimport buildOptions from '../utils/build-options.ts';\nimport { setDefaultHighChartOptions } from '../utils/option-loader.ts';\nimport { getSeriesMap, getSeriesChanges } from '../utils/chart-data.ts';\n\nlet Highcharts: typeof _Highcharts;\n\n/* Map ember-highcharts modes to Highcharts methods\n * https://api.highcharts.com/class-reference/Highcharts.html\n */\nconst CHART_TYPES = {\n  StockChart: 'stockChart',\n  Map: 'mapChart',\n  Gantt: 'ganttChart',\n  undefined: 'chart',\n} as const;\n\ninterface HighChartsSignature<Content extends Highcharts.Options['series']> {\n  Element: HTMLDivElement;\n  Args: {\n    /**\n     * The callback argument is optional and allows you to pass in a function that runs when the chart has finished loading\n     */\n    callback?: Highcharts.ChartCallbackFunction;\n    /**\n     * The `content` argument matches up with the `series` option in the Highcharts/Highstock/Highmaps API.\n     * Use this option to set the series data for your chart.\n     */\n    content?: Content;\n    /**\n     * The `chartOptions` argument is a generic object for setting different options with Highcharts/Highstock/Highmaps.\n     * Use this option to set things like the chart title and axis settings.\n     */\n    chartOptions: Highcharts.Options;\n    /**\n     * The mode argument is optional and it determines whether to use Highcharts, Highstock, or Highmaps.\n     */\n    mode?: 'Gantt' | 'Map' | 'StockChart';\n    /**\n     * The `theme` argument is optional and it allows you to pass in a Highcharts theme.\n     */\n    theme?: Highcharts.Options;\n  };\n  Blocks: {\n    default: [chart: Highcharts.Chart | null];\n  };\n}\n\nexport default class HighCharts<\n  Content extends Highcharts.Options['series'],\n> extends Component<HighChartsSignature<Content>> {\n  get content() {\n    return this.args.content ?? undefined;\n  }\n\n  get chartOptions() {\n    return this.args.chartOptions ?? undefined;\n  }\n\n  get mode() {\n    return this.args.mode ?? undefined;\n  }\n\n  get theme() {\n    return this.args.theme ?? undefined;\n  }\n\n  get callback() {\n    return this.args.callback ?? undefined;\n  }\n\n  @tracked\n  el: HTMLDivElement | undefined = undefined;\n\n  @tracked\n  chart: Highcharts.Chart | null = null;\n\n  get buildOptions() {\n    return buildOptions(this.theme, this.chartOptions, this.content);\n  }\n\n  drawAfterRender() {\n    // eslint-disable-next-line ember/no-runloop\n    scheduleOnce('afterRender', this, this.draw);\n  }\n\n  draw() {\n    const element = this.el?.querySelector('.chart-container');\n\n    // for any mode that is falsy ('', undefined, false), set it to default 'chart'\n    const mode = CHART_TYPES[`${this.mode}`] ?? CHART_TYPES.undefined;\n    const completeChartOptions = [this.buildOptions, this.callback];\n    const highchartsModeFunction = Highcharts[mode as keyof object];\n    if (element && typeof highchartsModeFunction === 'function') {\n      // eslint-disable-next-line @typescript-eslint/ban-types\n      const chart = (highchartsModeFunction as Function)(\n        element,\n        ...completeChartOptions,\n      );\n      this.chart = chart;\n    }\n  }\n\n  @action\n  async onDidInsert(el: HTMLDivElement) {\n    await this._importHighchartsDeps();\n    this.el = el;\n    this.drawAfterRender();\n    setDefaultHighChartOptions(getOwner(this) as Owner);\n  }\n\n  @action\n  onDidUpdate(\n    _elem: unknown,\n    [content, chartOptions, mode]: [\n      HighChartsSignature<Content>['Args']['content'],\n      HighChartsSignature<Content>['Args']['chartOptions'],\n      HighChartsSignature<Content>['Args']['mode'],\n    ],\n  ) {\n    const { chart } = this;\n\n    if (!content || !chart) {\n      return;\n    }\n\n    // Set any new chartOptions, do not redraw as we'll do that later\n    chart.update(chartOptions, false);\n\n    const isStockChart = mode === 'StockChart';\n    // create maps to make series data easier to work with\n    const contentSeriesMap = getSeriesMap(content);\n    const chartSeriesMap = getSeriesMap(\n      chart.series as unknown as Array<_Highcharts.SeriesOptionsType>,\n    );\n\n    // remove and update current series\n    const chartSeriesToRemove: Array<Highcharts.Series> = [];\n\n    chart.series.forEach((series) => {\n      if (isStockChart && series.name.match(/^Navigator/)) {\n        return;\n      }\n\n      const contentSeries = contentSeriesMap[\n        series.name\n      ] as unknown as _Highcharts.Series;\n\n      if (!contentSeries) {\n        return chartSeriesToRemove.push(series);\n      }\n\n      const updatedKeys = getSeriesChanges(contentSeries, series);\n\n      // call series.update() when other series attributes like pointStart have changed\n      if (updatedKeys.length) {\n        series.update(\n          contentSeries as unknown as _Highcharts.SeriesOptionsType,\n          false,\n        );\n      } else {\n        series.setData(contentSeries.data, false);\n      }\n    });\n\n    chartSeriesToRemove.forEach((series) => series.remove(false));\n\n    // add new series\n    content.forEach((contentSeries) => {\n      // eslint-disable-next-line no-prototype-builtins\n      if (!chartSeriesMap.hasOwnProperty(contentSeries.name as string)) {\n        chart.addSeries(contentSeries, false);\n      }\n    });\n\n    // reset navigator data\n    if (isStockChart && chart.xAxis.length) {\n      chart.xAxis[0]?.setExtremes();\n    }\n\n    return chart.redraw();\n  }\n\n  willDestroy() {\n    super.willDestroy();\n\n    this.chart?.destroy();\n  }\n\n  /**\n   * Dynamically imports the necessary pieces from Highcharts, based on chart type and options.\n   */\n  async _importHighchartsDeps() {\n    if (this.args.mode === 'Map') {\n      Highcharts = await waitForPromise(import('highcharts/highmaps'));\n    } else if (this.args.mode === 'StockChart') {\n      Highcharts = await waitForPromise(import('highcharts/highstock'));\n    } else {\n      Highcharts = await waitForPromise(import('highcharts'));\n    }\n\n    const Accessibility = await waitForPromise(\n      import('highcharts/modules/accessibility'),\n    );\n    Accessibility.default(Highcharts);\n\n    // 3d support\n    if (this.args.chartOptions?.chart?.options3d) {\n      const Boost = await waitForPromise(import('highcharts/modules/boost'));\n      Boost.default(Highcharts);\n      const Highcharts3d = await waitForPromise(\n        import('highcharts/highcharts-3d'),\n      );\n      Highcharts3d.default(Highcharts);\n    }\n\n    // Drilldown support\n    if (this.args.chartOptions?.drilldown) {\n      const Drilldown = await waitForPromise(\n        import('highcharts/modules/drilldown'),\n      );\n      Drilldown.default(Highcharts);\n    }\n\n    if (this.args.chartOptions?.chart?.type === 'funnel') {\n      const Funnel = await waitForPromise(import('highcharts/modules/funnel'));\n      Funnel.default(Highcharts);\n    }\n\n    if (this.args.chartOptions?.chart?.type === 'heatmap') {\n      const Heatmap = await waitForPromise(\n        import('highcharts/modules/heatmap'),\n      );\n      const More = await waitForPromise(import('highcharts/highcharts-more'));\n      More.default(Highcharts);\n      Heatmap.default(Highcharts);\n    }\n\n    if (this.args.chartOptions?.chart?.type === 'solidgauge') {\n      const SolidGauge = await waitForPromise(\n        import('highcharts/modules/solid-gauge'),\n      );\n      const More = await waitForPromise(import('highcharts/highcharts-more'));\n      More.default(Highcharts);\n      SolidGauge.default(Highcharts);\n    }\n\n    if (\n      this.args.chartOptions?.chart?.type === 'treegraph' ||\n      this.args.chartOptions?.chart?.type === 'treemap'\n    ) {\n      const Treemap = await import('highcharts/modules/treemap');\n      Treemap.default(Highcharts);\n    }\n\n    if (this.args.chartOptions?.chart?.type === 'treegraph') {\n      const Treegraph = await import('highcharts/modules/treegraph');\n      Treegraph.default(Highcharts);\n    }\n\n    if (this.args.chartOptions?.chart?.type === 'waterfall') {\n      const More = await waitForPromise(import('highcharts/highcharts-more'));\n      More.default(Highcharts);\n    }\n\n    if (this.args.chartOptions?.chart?.polar === true) {\n      const More = await waitForPromise(import('highcharts/highcharts-more'));\n      More.default(Highcharts);\n    }\n  }\n}\n"],"names":["Highcharts","CHART_TYPES","StockChart","Map","Gantt","undefined","HighCharts","Component","content","args","chartOptions","mode","theme","callback","g","prototype","tracked","i","void 0","buildOptions","drawAfterRender","scheduleOnce","draw","element","el","querySelector","completeChartOptions","highchartsModeFunction","chart","onDidInsert","_importHighchartsDeps","setDefaultHighChartOptions","getOwner","n","action","onDidUpdate","_elem","update","isStockChart","contentSeriesMap","getSeriesMap","chartSeriesMap","series","chartSeriesToRemove","forEach","name","match","contentSeries","push","updatedKeys","getSeriesChanges","length","setData","data","remove","hasOwnProperty","addSeries","xAxis","setExtremes","redraw","willDestroy","destroy","waitForPromise","Accessibility","default","options3d","Boost","Highcharts3d","drilldown","Drilldown","type","Funnel","Heatmap","More","SolidGauge","Treemap","Treegraph","polar","setComponentTemplate","TEMPLATE"],"mappings":"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"}